{% load static %}
<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>é¦–é </title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body {
            background: linear-gradient(to bottom, #bdc3c7, #2c3e50); /* ç°è‰²æ¼¸å±¤èƒŒæ™¯ */
            color: white;
            height: 100vh;
            margin: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative; /* è®“å³ä¸Šè§’æŒ‰éˆ•èƒ½å¤ çµ•å°å®šä½ */
        }

        /* ä¸­å¤®åœ–ç¤ºå®¹å™¨ */
        .icon-container {
            text-align: center;
            margin: 20px;
            padding: 10px;
            background-color: white; /* ç™½è‰²èƒŒæ™¯ */
            border-radius: 10px; /* åœ“è§’æ•ˆæœ */
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.1); /* åˆå§‹é™°å½± */
        }

        .icon-container img {
            width: 80px;
            height: 80px;
            display: block;
            margin: 0 auto;
        }

        /* åœ–ç¤ºæ‡¸æµ®æ•ˆæœ */
        .icon-container:hover {
            transform: scale(1.1); /* ç•¥å¾®æ”¾å¤§ */
        }

        .icon-container img:hover {
            box-shadow: 0px 8px 15px rgba(255, 255, 255, 0.4); /* æ‡¸æµ®æ™‚å¢åŠ é™°å½± */
        }

        /* å³ä¸Šè§’æŒ‰éˆ• */
        .top-buttons {
            position: absolute;
            top: 10px;
            right: 10px;
            display: flex;
            align-items: center;
        }
        /* è®“æ–‡å­—èˆ‡åœ–ç‰‡ä¹‹é–“æœ‰ä¸€é»è·é›¢ */
        .icon-container h5 {
            margin-top: 10px; /* æ§åˆ¶åœ–ç¤ºèˆ‡æ–‡å­—çš„è·é›¢ */
            margin-bottom: 0px; /* æ¸›å°‘æ–‡å­—ä¸‹é¢çš„ç©ºç™½ */
        }
        /* å³ä¸Šè§’æŒ‰éˆ•çš„æ¨£å¼ï¼Œä¸ä½¿ç”¨æ‡¸æµ®æ•ˆæœ */
        .top-buttons .btn {
            margin-left: 10px;
        }
        button {
            font-family: "Segoe UI Emoji", "Apple Color Emoji", "Noto Color Emoji", sans-serif;
        }
        /* è®“é¸å–®åœ¨æŒ‰éˆ•ä¸‹æ–¹é¡¯ç¤º */
        .dropdown-menu {
            display: none;
            position: absolute;
            right: 0; /* ç¢ºä¿é¸å–®å¾æŒ‰éˆ•é–‹å§‹å±•é–‹ */
            top: 40px; /* è®“é¸å–®é¡¯ç¤ºåœ¨æŒ‰éˆ•çš„ä¸‹æ–¹ */
        }
        .dropdown-menu.show {
            display: block;
        }
    </style>
</head>
<body>
    <!-- å³ä¸Šè§’æŒ‰éˆ• -->
    <div class="top-buttons">
        <button class="btn btn-light">&#128276;</button> <!-- ğŸ”” -->
        <button class="btn btn-light">&#9881;</button>   <!-- âš™ï¸ -->
        <button class="btn btn-light" id="profileButton">&#128100;</button> <!-- ğŸ‘¤ -->
        <div class="dropdown-menu" id="profileMenu">
            <a class="dropdown-item" href="#">å€‹äººè³‡æ–™</a>
            <a class="dropdown-item" href="#">æ›´æ”¹å¯†ç¢¼</a>
            <a class="dropdown-item" href="javascript:void(0);" id="logoutLink">ç™»å‡º</a>
        </div>
    </div>

    <!-- åœ–ç¤ºå€å¡Š (ä¿æŒä¸­å¤®) -->
    <div class="icon-container">
        <a href="{% url 'dashboard' %}" class="text-decoration-none text-dark">
            <img src="{% static 'dashboard.png' %}" alt="å„€è¡¨æ¿">
            <h5>å„€è¡¨æ¿</h5>
        </a>
    </div>
    <div class="icon-container">
        <a href="{% url 'upload_test' %}" class="text-decoration-none text-dark">
            <img src="{% static 'data-migration.png' %}" alt="è³‡æ–™åŒ¯å…¥">
            <h5>è³‡æ–™åŒ¯å…¥</h5>
        </a>
    </div>
    <div class="icon-container">
        <a href="{% url 'twb2bmainitem' %}" class="text-decoration-none text-dark">
            <img src="{% static 'invoice.png' %}" alt="é›»å­ç™¼ç¥¨">
            <h5>é›»å­ç™¼ç¥¨</h5>
        </a>
    </div>
    <div class="icon-container">
        <a href="{% url 'invoice_list' %}" class="text-decoration-none text-dark">
            <img src="{% static 'bill.png' %}" alt="æƒæå¸³å–®">
            <h5>æƒæå¸³å–®</h5>
        </a>
    </div>
    <div class="icon-container">
        <a href="{% url 'manage_permissions' %}" class="text-decoration-none text-dark">
            <img src="{% static 'settings.png' %}" alt="è¨­å®š">
            <h5>è¨­å®š</h5>
        </a>
    </div>
</body>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
<script>
    // ç”¨ä¾†æ§åˆ¶æŒ‰éˆ•é»æ“Šæ™‚å±•é–‹é¸å–®
    $(document).ready(function() {
        $('#profileButton').click(function() {
            $('#profileMenu').toggleClass('show');
        });

        // é»é¸å…¶ä»–åœ°æ–¹æ™‚éš±è—é¸å–®
        $(document).click(function(event) {
            if (!$(event.target).closest('#profileButton').length && 
                !$(event.target).closest('#profileMenu').length) {
                $('#profileMenu').removeClass('show');
            }
        });
    });
</script>
<script>
    document.getElementById('logoutLink').addEventListener('click', function () {
        fetch("{% url 'logout' %}", {
            method: 'POST',
            headers: {
                'X-CSRFToken': "{{ csrf_token }}",
            },
            credentials: 'same-origin',  // ä¿è­‰ CSRF Token æœƒéš¨è«‹æ±‚ä¸€èµ·ç™¼é€
        }).then(response => {
            if (response.ok) {
                alert("å·²æˆåŠŸç™»å‡º");
                window.location.href = '/login/';  // é‡å®šå‘åˆ°ç™»å…¥é 
            }
        }).catch(error => {
            console.error('ç™»å‡ºå¤±æ•—:', error);
        });
    });
</script>
</html>
